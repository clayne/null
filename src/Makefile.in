# default root installation directory
prefix = @prefix@
exec_prefix = @exec_prefix@

srcdir = @srcdir@
VPATH = @srcdir@

bindir = $(exec_prefix)/bin
libdir = $(exec_prefix)/lib
incdir = $(prefix)/include
infodir = $(prefix)/info

CC	= @CC@

DEFS	= $(DEFINES)
INCS	= -I. $(INCLUDES)
LIBS	= $(LIBRARIES)

UTIL = null

CCFLAGS = -g -O2
#LDFLAGS = -g
LDFLAGS =

INSTALL = @INSTALL@
INSTALL_PROGRAM = @INSTALL_PROGRAM@
INSTALL_DATA = @INSTALL_DATA@

###############################################################################
# End of system configuration section.
###############################################################################

SHELL = /bin/sh

OBJS	= argv.o md5.o compat.o
CFLAGS	= $(CCFLAGS)

all : $(UTIL)

clean :
	rm -f a.out core *.o *.t *.cpp
	rm -f $(UTIL)

distclean : clean
	rm -f confdefs.h config.status config.log config.cache conf.h
	rm -f Makefile
	rm -rf autom4te.cache
#	rm -f configure

installdirs :
	$(srcdir)/mkinstalldirs $(bindir)

install : $(UTIL)
	$(INSTALL_PROGRAM) $(UTIL) $(bindir)

configure : configure.in
	autoconf

$(UTIL) : $(UTIL).o $(OBJS)
	rm -f $@
	$(CC) $(UTIL).o $(OBJS)
	mv a.out $@

test : $(UTIL)
	sh -x null_tests.sh
	@ echo "Tests passed"

.c.o :
	rm -f $@ $@.t
	$(CC) $(CFLAGS) $(CPPFLAGS) $(DEFS) $(INCS) -c $< -o $@.t
	mv $@.t $@

#
# This file contains dependencies that are automatically generated by gcc -MM
# depend.  Please do not edit by hand.
#

argv.o: argv.c conf.h argv.h argv_loc.h compat.h
compat.o: compat.c conf.h compat.h
md5.o: md5.c md5.h md5_loc.h conf.h
null.o: null.c conf.h argv.h compat.h md5.h version.h
